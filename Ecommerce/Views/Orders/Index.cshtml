@model IEnumerable<Ecommerce.Models.Order>

@{
	ViewData["Title"] = "Index";
	Layout = "_Layout";
}
<!--app-content open-->
<!-- PAGE-HEADER -->
<!-- PAGE-HEADER END -->
<!-- Row -->
<div class="container">
<div class="page-header">
	<h1 class="page-title">Your Orders</h1>
</div>
	<div class="row">
	<div class="col-lg-12">
		<div class="card">
			<div class="card-header">
				<h3 class="card-title">Orders</h3>
			</div>
			<div class="card-body">
				<div class="table-responsive">
					<table class="table table-bordered border  mb-0" style="text-align:center" id="removecolumns-edit">
						<thead>
							<tr>
								<th>
									@Html.DisplayNameFor(model => model.Id)
								</th>
								<th>
									Order Date
								</th>

								<th>
									Delivery Date
								</th>
								<th>
									Items
								</th>
								<th>
									@Html.DisplayNameFor(model => model.TotalPrice)
								</th>
								<th>
									Address
								</th>
								<th>
									Delivered
								</th>

							</tr>
						</thead>
						<tbody>
							@foreach (var item in Model)
							{
								<tr>
									<td>
										@Html.DisplayFor(modelItem => item.Id)
									</td>
									<td>
										@Html.DisplayFor(modelItem => item.OrderDate)
									</td>
									<td>
										@Html.DisplayFor(modelItem => item.DeliverDate)
									</td>
									<td>
										<ol>
											@foreach (var oitem in item.OrderItems)
											{
												<li>@oitem?.ProductItem?.Product?.Name </li>
												///need to be checked
											}
										</ol>
									</td>
									<td>
										@Html.DisplayFor(modelItem => item.TotalPrice)

									</td>
									<td>
										@item.Address.StreetName , @item.Address.City , @item.Address.Country
									</td>
									<td>
										@if (@item.OrderStatus == Status.Delivered)
										{
											<span class="badge bg-success-transparent rounded-pill text-success p-2 px-3">Delivered</span>
										}
										else
										{
											<span class="badge bg-warning-transparent rounded-pill text-warning p-2 px-3">@item.OrderStatus</span>
										}
									</td>
								</tr>
							}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<!-- End Row -->
@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}
}